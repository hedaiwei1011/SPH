{"ast":null,"code":"import { reqGoodsInfo, reqAddOrUpdateShopCart } from '@/api';\n//封装游客身份模块uuid---》生成一个随机字符串（不能再变了）\nimport { getUUID } from '@/utils/uuid_token';\nconst state = {\n  goodInfo: {},\n  //游客临时身份\n  uuid_token: getUUID()\n};\nconst mutations = {\n  GETGOODINFO(state, goodInfo) {\n    state.goodInfo = goodInfo;\n  }\n};\nconst actions = {\n  //获取产品信息的action\n  async getGoodInfo({\n    commit\n  }, skuId) {\n    let result = await reqGoodsInfo(skuId);\n    if (result.code == 200) {\n      commit('GETGOODINFO', result.data);\n    }\n  },\n  //将产品添加到购物车中\n  async addOrUpdateShopCart({\n    commit\n  }, {\n    skuId,\n    skuNum\n  }) {\n    //加入购物车返回的结果\n    //加入购物车以后，前台将参数带给服务器\n    //服务器写入数据成功，并没有返回其他数据，只返回code=200 代表这次操作成功\n    //因为服务器没有返回其余数据，因此不需要三连环存储数据\n    let result = await reqAddOrUpdateShopCart(skuId, skuNum);\n    //console.log(result)\n    //当前这个函数如果执行返回promise\n    if (result.code == 200) {\n      return 'ok';\n    } else {\n      //代表加入购物车失败\n      return Promise.reject(new Error('faile'));\n    }\n  }\n};\nconst getters = {\n  //路径导航简化\n  categoryView(state) {\n    return state.goodInfo.categoryView || {};\n  },\n  //产品信息简化\n  skuInfo() {\n    return state.goodInfo.skuInfo || {};\n  },\n  //产品售卖属性的简化\n  spuSaleAttrList() {\n    return state.goodInfo.spuSaleAttrList || [];\n  }\n};\nexport default {\n  state,\n  mutations,\n  actions,\n  getters\n};","map":{"version":3,"names":["reqGoodsInfo","reqAddOrUpdateShopCart","getUUID","state","goodInfo","uuid_token","mutations","GETGOODINFO","actions","getGoodInfo","commit","skuId","result","code","data","addOrUpdateShopCart","skuNum","Promise","reject","Error","getters","categoryView","skuInfo","spuSaleAttrList"],"sources":["/Users/hedaiwei/Desktop/project-SPH/app/src/store/detail/index.js"],"sourcesContent":["import { reqGoodsInfo, reqAddOrUpdateShopCart } from '@/api'\n//封装游客身份模块uuid---》生成一个随机字符串（不能再变了）\nimport { getUUID } from '@/utils/uuid_token'\nconst state = {\n  goodInfo: {},\n  //游客临时身份\n  uuid_token: getUUID(),\n}\nconst mutations = {\n  GETGOODINFO(state, goodInfo) {\n    state.goodInfo = goodInfo\n  },\n}\nconst actions = {\n  //获取产品信息的action\n  async getGoodInfo({ commit }, skuId) {\n    let result = await reqGoodsInfo(skuId)\n    if (result.code == 200) {\n      commit('GETGOODINFO', result.data)\n    }\n  },\n  //将产品添加到购物车中\n  async addOrUpdateShopCart({ commit }, { skuId, skuNum }) {\n    //加入购物车返回的结果\n    //加入购物车以后，前台将参数带给服务器\n    //服务器写入数据成功，并没有返回其他数据，只返回code=200 代表这次操作成功\n    //因为服务器没有返回其余数据，因此不需要三连环存储数据\n    let result = await reqAddOrUpdateShopCart(skuId, skuNum)\n    //console.log(result)\n    //当前这个函数如果执行返回promise\n    if (result.code == 200) {\n      return 'ok'\n    } else {\n      //代表加入购物车失败\n      return Promise.reject(new Error('faile'))\n    }\n  },\n}\nconst getters = {\n  //路径导航简化\n  categoryView(state) {\n    return state.goodInfo.categoryView || {}\n  },\n  //产品信息简化\n  skuInfo() {\n    return state.goodInfo.skuInfo || {}\n  },\n  //产品售卖属性的简化\n  spuSaleAttrList() {\n    return state.goodInfo.spuSaleAttrList || []\n  },\n}\nexport default {\n  state,\n  mutations,\n  actions,\n  getters,\n}\n"],"mappings":"AAAA,SAASA,YAAY,EAAEC,sBAAsB,QAAQ,OAAO;AAC5D;AACA,SAASC,OAAO,QAAQ,oBAAoB;AAC5C,MAAMC,KAAK,GAAG;EACZC,QAAQ,EAAE,CAAC,CAAC;EACZ;EACAC,UAAU,EAAEH,OAAO,CAAC;AACtB,CAAC;AACD,MAAMI,SAAS,GAAG;EAChBC,WAAWA,CAACJ,KAAK,EAAEC,QAAQ,EAAE;IAC3BD,KAAK,CAACC,QAAQ,GAAGA,QAAQ;EAC3B;AACF,CAAC;AACD,MAAMI,OAAO,GAAG;EACd;EACA,MAAMC,WAAWA,CAAC;IAAEC;EAAO,CAAC,EAAEC,KAAK,EAAE;IACnC,IAAIC,MAAM,GAAG,MAAMZ,YAAY,CAACW,KAAK,CAAC;IACtC,IAAIC,MAAM,CAACC,IAAI,IAAI,GAAG,EAAE;MACtBH,MAAM,CAAC,aAAa,EAAEE,MAAM,CAACE,IAAI,CAAC;IACpC;EACF,CAAC;EACD;EACA,MAAMC,mBAAmBA,CAAC;IAAEL;EAAO,CAAC,EAAE;IAAEC,KAAK;IAAEK;EAAO,CAAC,EAAE;IACvD;IACA;IACA;IACA;IACA,IAAIJ,MAAM,GAAG,MAAMX,sBAAsB,CAACU,KAAK,EAAEK,MAAM,CAAC;IACxD;IACA;IACA,IAAIJ,MAAM,CAACC,IAAI,IAAI,GAAG,EAAE;MACtB,OAAO,IAAI;IACb,CAAC,MAAM;MACL;MACA,OAAOI,OAAO,CAACC,MAAM,CAAC,IAAIC,KAAK,CAAC,OAAO,CAAC,CAAC;IAC3C;EACF;AACF,CAAC;AACD,MAAMC,OAAO,GAAG;EACd;EACAC,YAAYA,CAAClB,KAAK,EAAE;IAClB,OAAOA,KAAK,CAACC,QAAQ,CAACiB,YAAY,IAAI,CAAC,CAAC;EAC1C,CAAC;EACD;EACAC,OAAOA,CAAA,EAAG;IACR,OAAOnB,KAAK,CAACC,QAAQ,CAACkB,OAAO,IAAI,CAAC,CAAC;EACrC,CAAC;EACD;EACAC,eAAeA,CAAA,EAAG;IAChB,OAAOpB,KAAK,CAACC,QAAQ,CAACmB,eAAe,IAAI,EAAE;EAC7C;AACF,CAAC;AACD,eAAe;EACbpB,KAAK;EACLG,SAAS;EACTE,OAAO;EACPY;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}