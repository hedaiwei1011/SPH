{"ast":null,"code":"export default {\n  name: 'Pagination',\n  props: ['pageNo', 'pageSize', 'total', 'continues'],\n  computed: {\n    //总共多少页\n    totalPage() {\n      //向上取整\n      return Math.ceil(this.total / this.pageSize);\n    },\n    //计算连续页码，起始数字与结束数字\n    starNumAndEndNum() {\n      let start = 0;\n      let end = 0;\n      //判断数据是否足够\n      if (this.continues > this.totalPage) {\n        start = 1;\n        end = this.totalPage;\n      } else {\n        start = this.pageNo - parseInt(this.continues / 2);\n        end = this.pageNo + parseInt(this.continues / 2);\n        if (start < 1) {\n          start = 1;\n          end = this.continues;\n        }\n        if (end > this.totalPage) {\n          start = this.totalPage - this.continues + 1;\n          end = this.totalPage;\n          //console.log(start, end)\n        }\n      }\n\n      return {\n        start,\n        end\n      };\n    }\n  }\n};","map":{"version":3,"names":["name","props","computed","totalPage","Math","ceil","total","pageSize","starNumAndEndNum","start","end","continues","pageNo","parseInt"],"sources":["src/components/Pagination/index.vue"],"sourcesContent":["<template>\n  <div class=\"pagination\">\n    <button :disabled=\"pageNo == 1\" @click=\"$emit('getPageno', pageNo - 1)\">\n      上一页\n    </button>\n    <button v-if=\"starNumAndEndNum.start > 1\" @click=\"$emit('getPageno', 1)\">\n      1\n    </button>\n    <button v-if=\"starNumAndEndNum.start > 2\">···</button>\n\n    <button\n      v-for=\"(page, index) in starNumAndEndNum.end\"\n      :key=\"index\"\n      v-if=\"page >= starNumAndEndNum.start\"\n      @click=\"$emit('getPageno', page)\"\n    >\n      {{ page }}\n    </button>\n    <!-- 这些判断条件都是测出来的不需要记 -->\n    <button v-if=\"starNumAndEndNum.end < 30\">···</button>\n    <button\n      v-if=\"starNumAndEndNum.end < 31\"\n      @click=\"$emit('getPageno', totalPage)\"\n    >\n      {{ totalPage }}\n    </button>\n    <button\n      :disabled=\"pageNo == totalPage\"\n      @click=\"$emit('getPageno', pageNo + 1)\"\n    >\n      下一页\n    </button>\n\n    <button style=\"margin-left: 30px\">共 {{ total }} 条</button>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Pagination',\n  props: ['pageNo', 'pageSize', 'total', 'continues'],\n  computed: {\n    //总共多少页\n    totalPage() {\n      //向上取整\n      return Math.ceil(this.total / this.pageSize)\n    },\n    //计算连续页码，起始数字与结束数字\n    starNumAndEndNum() {\n      let start = 0\n      let end = 0\n      //判断数据是否足够\n      if (this.continues > this.totalPage) {\n        start = 1\n        end = this.totalPage\n      } else {\n        start = this.pageNo - parseInt(this.continues / 2)\n        end = this.pageNo + parseInt(this.continues / 2)\n        if (start < 1) {\n          start = 1\n          end = this.continues\n        }\n        if (end > this.totalPage) {\n          start = this.totalPage - this.continues + 1\n          end = this.totalPage\n          //console.log(start, end)\n        }\n      }\n      return { start, end }\n    },\n  },\n}\n</script>\n\n<style lang=\"less\" scoped>\n.pagination {\n  text-align: center;\n  button {\n    margin: 0 5px;\n    background-color: #f4f4f5;\n    color: #606266;\n    outline: none;\n    border-radius: 2px;\n    padding: 0 4px;\n    vertical-align: top;\n    display: inline-block;\n    font-size: 13px;\n    min-width: 35.5px;\n    height: 28px;\n    line-height: 28px;\n    cursor: pointer;\n    box-sizing: border-box;\n    text-align: center;\n    border: 0;\n\n    &[disabled] {\n      color: #c0c4cc;\n      cursor: not-allowed;\n    }\n\n    &.active {\n      cursor: not-allowed;\n      background-color: #409eff;\n      color: #fff;\n    }\n  }\n}\n</style>\n"],"mappings":"AAsCA;EACAA,IAAA;EACAC,KAAA;EACAC,QAAA;IACA;IACAC,UAAA;MACA;MACA,OAAAC,IAAA,CAAAC,IAAA,MAAAC,KAAA,QAAAC,QAAA;IACA;IACA;IACAC,iBAAA;MACA,IAAAC,KAAA;MACA,IAAAC,GAAA;MACA;MACA,SAAAC,SAAA,QAAAR,SAAA;QACAM,KAAA;QACAC,GAAA,QAAAP,SAAA;MACA;QACAM,KAAA,QAAAG,MAAA,GAAAC,QAAA,MAAAF,SAAA;QACAD,GAAA,QAAAE,MAAA,GAAAC,QAAA,MAAAF,SAAA;QACA,IAAAF,KAAA;UACAA,KAAA;UACAC,GAAA,QAAAC,SAAA;QACA;QACA,IAAAD,GAAA,QAAAP,SAAA;UACAM,KAAA,QAAAN,SAAA,QAAAQ,SAAA;UACAD,GAAA,QAAAP,SAAA;UACA;QACA;MACA;;MACA;QAAAM,KAAA;QAAAC;MAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}