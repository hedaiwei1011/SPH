{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      keyword: ''\n    };\n  },\n  methods: {\n    //搜索按钮的回调函数，需要向search路由进行跳转\n    goSearch() {\n      //路由传参\n      //第一种：字符串形式\n      /*\n      this.$router.push(\n        '/search/' + this.keyword + '?k=' + this.keyword.toUpperCase()\n      )\n      */\n      //模版字符串 注意使用的是` 而不是'\n      /*\n      this.$router.push(\n        `/search/${this.keyword}?k=${this.keyword.toUpperCase()}`\n      )\n      */\n      //对象的方式（常用） 要起一个名字\n      //同样这里需要判断是否带query对象\n      if (this.$route.query) {\n        let location = {\n          name: 'search',\n          params: {\n            keyword: this.keyword || undefined\n          }\n          //query: { k: this.keyword.toUpperCase() },\n        };\n\n        location.query = this.$route.query;\n        this.$router.push(location);\n      }\n    },\n    //退出登陆\n    //1、发请求，通知服务器退出登陆（清除一些数据token）\n    //2、清除项目当中的数据【userinfo token】\n    async logout() {\n      //alert(123)\n      try {\n        await this.$store.dispatch('userLogout');\n        //退出成功回到首页\n        this.$router.push('/home');\n      } catch (error) {\n        error.message;\n      }\n    }\n  },\n  mounted() {\n    //通过全局事件总线清除关键字\n    this.$bus.$on('clear', () => {\n      this.keyword = '';\n    });\n  },\n  computed: {\n    userName() {\n      return this.$store.state.user.userInfo.name;\n    }\n  }\n};","map":{"version":3,"names":["data","keyword","methods","goSearch","$route","query","location","name","params","undefined","$router","push","logout","$store","dispatch","error","message","mounted","$bus","$on","computed","userName","state","user","userInfo"],"sources":["src/components/Header/index.vue"],"sourcesContent":["<template>\n  <header class=\"header\">\n    <!-- 头部的第一行 -->\n    <div class=\"top\">\n      <div class=\"container\">\n        <div class=\"loginList\">\n          <p>尚品汇欢迎您！</p>\n          <!--  -->\n          <p v-if=\"!userName\">\n            <span>请</span>\n            <router-link to=\"/login\">登陆</router-link>\n            <router-link to=\"/register\" class=\"register\">免费注册</router-link>\n          </p>\n          <p v-else>\n            <a>{{ userName }}</a>\n            <a class=\"register\" @click=\"logout\">退出登陆</a>\n          </p>\n        </div>\n        <div class=\"typeList\">\n          <!-- <a href=\"###\">我的订单</a> -->\n          <router-link to=\"/center/myorder\">我的订单</router-link>\n          <a href=\"###\">我的购物车</a>\n          <a href=\"###\">我的尚品汇</a>\n          <a href=\"###\">尚品汇会员</a>\n          <a href=\"###\">企业采购</a>\n          <a href=\"###\">关注尚品汇</a>\n          <a href=\"###\">合作招商</a>\n          <a href=\"###\">商家后台</a>\n        </div>\n      </div>\n    </div>\n    <!--头部第二行 搜索区域-->\n    <div class=\"bottom\">\n      <h1 class=\"logoArea\">\n        <router-link class=\"logo\" to=\"/home\">\n          <img src=\"./images/logo.png\" alt=\"\" />\n        </router-link>\n      </h1>\n      <div class=\"searchArea\">\n        <form action=\"###\" class=\"searchForm\">\n          <input\n            type=\"text\"\n            id=\"autocomplete\"\n            class=\"input-error input-xxlarge\"\n            v-model=\"keyword\"\n          />\n          <button\n            class=\"sui-btn btn-xlarge btn-danger\"\n            type=\"button\"\n            @click=\"goSearch\"\n          >\n            搜索\n          </button>\n        </form>\n      </div>\n    </div>\n  </header>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      keyword: '',\n    }\n  },\n  methods: {\n    //搜索按钮的回调函数，需要向search路由进行跳转\n    goSearch() {\n      //路由传参\n      //第一种：字符串形式\n      /*\n      this.$router.push(\n        '/search/' + this.keyword + '?k=' + this.keyword.toUpperCase()\n      )\n      */\n      //模版字符串 注意使用的是` 而不是'\n      /*\n      this.$router.push(\n        `/search/${this.keyword}?k=${this.keyword.toUpperCase()}`\n      )\n      */\n      //对象的方式（常用） 要起一个名字\n      //同样这里需要判断是否带query对象\n      if (this.$route.query) {\n        let location = {\n          name: 'search',\n          params: { keyword: this.keyword || undefined },\n          //query: { k: this.keyword.toUpperCase() },\n        }\n        location.query = this.$route.query\n        this.$router.push(location)\n      }\n    },\n    //退出登陆\n    //1、发请求，通知服务器退出登陆（清除一些数据token）\n    //2、清除项目当中的数据【userinfo token】\n    async logout() {\n      //alert(123)\n      try {\n        await this.$store.dispatch('userLogout')\n        //退出成功回到首页\n        this.$router.push('/home')\n      } catch (error) {\n        error.message\n      }\n    },\n  },\n  mounted() {\n    //通过全局事件总线清除关键字\n    this.$bus.$on('clear', () => {\n      this.keyword = ''\n    })\n  },\n  computed: {\n    userName() {\n      return this.$store.state.user.userInfo.name\n    },\n  },\n}\n</script>\n\n<style lang=\"less\">\n.header {\n  & > .top {\n    background-color: #eaeaea;\n    height: 30px;\n    line-height: 30px;\n\n    .container {\n      width: 1200px;\n      margin: 0 auto;\n      overflow: hidden;\n\n      .loginList {\n        float: left;\n\n        p {\n          float: left;\n          margin-right: 10px;\n\n          .register {\n            border-left: 1px solid #b3aeae;\n            padding: 0 5px;\n            margin-left: 5px;\n          }\n        }\n      }\n\n      .typeList {\n        float: right;\n\n        a {\n          padding: 0 10px;\n\n          & + a {\n            border-left: 1px solid #b3aeae;\n          }\n        }\n      }\n    }\n  }\n\n  & > .bottom {\n    width: 1200px;\n    margin: 0 auto;\n    overflow: hidden;\n\n    .logoArea {\n      float: left;\n\n      .logo {\n        img {\n          width: 175px;\n          margin: 25px 45px;\n        }\n      }\n    }\n\n    .searchArea {\n      float: right;\n      margin-top: 35px;\n\n      .searchForm {\n        overflow: hidden;\n\n        input {\n          box-sizing: border-box;\n          width: 490px;\n          height: 32px;\n          padding: 0px 4px;\n          border: 2px solid #ea4a36;\n          float: left;\n\n          &:focus {\n            outline: none;\n          }\n        }\n\n        button {\n          height: 32px;\n          width: 68px;\n          background-color: #ea4a36;\n          border: none;\n          color: #fff;\n          float: left;\n          cursor: pointer;\n\n          &:focus {\n            outline: none;\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n"],"mappings":";AA4DA;EACAA,KAAA;IACA;MACAC,OAAA;IACA;EACA;EACAC,OAAA;IACA;IACAC,SAAA;MACA;MACA;MACA;AACA;AACA;AACA;AACA;MACA;MACA;AACA;AACA;AACA;AACA;MACA;MACA;MACA,SAAAC,MAAA,CAAAC,KAAA;QACA,IAAAC,QAAA;UACAC,IAAA;UACAC,MAAA;YAAAP,OAAA,OAAAA,OAAA,IAAAQ;UAAA;UACA;QACA;;QACAH,QAAA,CAAAD,KAAA,QAAAD,MAAA,CAAAC,KAAA;QACA,KAAAK,OAAA,CAAAC,IAAA,CAAAL,QAAA;MACA;IACA;IACA;IACA;IACA;IACA,MAAAM,OAAA;MACA;MACA;QACA,WAAAC,MAAA,CAAAC,QAAA;QACA;QACA,KAAAJ,OAAA,CAAAC,IAAA;MACA,SAAAI,KAAA;QACAA,KAAA,CAAAC,OAAA;MACA;IACA;EACA;EACAC,QAAA;IACA;IACA,KAAAC,IAAA,CAAAC,GAAA;MACA,KAAAlB,OAAA;IACA;EACA;EACAmB,QAAA;IACAC,SAAA;MACA,YAAAR,MAAA,CAAAS,KAAA,CAAAC,IAAA,CAAAC,QAAA,CAAAjB,IAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}